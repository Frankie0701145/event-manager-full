(this["webpackJsonpevent-management-frontend"]=this["webpackJsonpevent-management-frontend"]||[]).push([[0],{38:function(e,t,a){e.exports=a(73)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(34),s=a.n(l),c=(a(43),a(19)),i=a(14),o=a(6),m=a(7),d=a(9),u=a(8),p=a(10),E=(a(44),a(4)),v=(a(45),a(12)),g=a.n(v),f=a(13),h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).logout=function(){g.a.remove("accessToken"),a.props.authenticate(!1),a.props.history.push("/login"),window.M.toast({html:"Logout Successful!",classes:"red darken-1"})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar-fixed"},r.a.createElement("nav",{className:"white"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"nav-wrapper white"},r.a.createElement("a",{href:"#!",id:"logo",className:"brand-logo",style:{backgroundColor:"#00134e"}},"Fly Events Inc"),r.a.createElement("a",{href:"#","data-target":"mobile-demo",className:"sidenav-trigger"},r.a.createElement("i",{className:"material-icons black-text"},"menu")),r.a.createElement("ul",{className:"right hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement(E.b,{to:"/events",className:"black-text"},"Events")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/",className:"black-text"},"Create Events")),!0===this.props.loggedIn?r.a.createElement("li",null,r.a.createElement(E.b,{to:"#",className:"black-text",onClick:this.logout},"Logout")):r.a.createElement("li",null,r.a.createElement(E.b,{to:"login",className:"black-text"},"Login"))),r.a.createElement("ul",{className:"sidenav",id:"mobile-demo"},r.a.createElement("li",null,r.a.createElement(E.b,{to:"/events",className:"black-text"},"Events")),r.a.createElement("li",null,r.a.createElement(E.b,{to:"/",className:"black-text"},"Create Events")),!0===this.props.loggedIn?r.a.createElement("li",null,r.a.createElement(E.b,{to:"#",className:"black-text"},"Logout")):r.a.createElement("li",null,r.a.createElement(E.b,{to:"login",className:"black-text"},"Login")))))))}},{key:"componentDidMount",value:function(){var e=document.querySelectorAll(".sidenav");window.M.Sidenav.init(e,{})}}]),t}(n.Component),N=Object(f.f)(h),b=a(16),w=a.n(b),y=(a(68),a(17)),k=a.n(y),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,a.carouselHref=["#one!","#two!","#three!","#four!"],a.eventOutPut=function(){return a.state.filteredEvents<1?r.a.createElement("div",{className:"container"},"No Events"):r.a.createElement("div",{className:"container"},a.state.filteredEvents.map((function(e){return r.a.createElement("div",{className:"row",key:e._id},r.a.createElement("div",{className:"col",key:"carousel"+e._id},r.a.createElement("div",{className:"carousel carousel-slider",id:"carousel"},e.pictures.map((function(e,t){return r.a.createElement("a",{className:"carousel-item",href:a.carouselHref[t],key:e._id},r.a.createElement("img",{src:"".concat(e.url),alt:""}))})))),r.a.createElement("div",{className:"col",key:"info"+e._id}))})))},a.state={events:[],filteredEvents:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),this.state.events.length>0?r.a.createElement("div",{className:"container"},this.state.events.map((function(t){return r.a.createElement("div",{className:"row",id:"eventWrapper",key:t._id},r.a.createElement("div",{className:"col s12 l6",id:"infoWrapper"},r.a.createElement("div",{className:"row"},r.a.createElement("h3",{className:"center-align"}," ",t.title),r.a.createElement("h6",{className:"center-align"},t.location)),r.a.createElement("div",{className:"row center-align",id:"descriptionWrapper"},r.a.createElement("span",null,t.description)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col l12 center-align"},r.a.createElement("span",{className:"prefix"},"from"),r.a.createElement("span",{className:"date"},k()(t.startDateTime).format("lll"))),r.a.createElement("div",{className:"col l12 center-align"},r.a.createElement("span",{className:"prefix"},"to"),r.a.createElement("span",{className:"date"},k()(t.startDateTime).format("lll")))),r.a.createElement("div",{className:"row center-align"},r.a.createElement("button",{className:"waves-effect waves-light btn-large green"},"Send Invite ")),r.a.createElement("div",{className:"row center-align"},r.a.createElement("span",{id:"organizer"},"Organised by ","Moblex"))),r.a.createElement("div",{className:"col s12 l6",id:"carouselWrapper"},r.a.createElement("div",{className:"carousel carousel-slider",id:"carousel"},t.pictures.map((function(t,a){return r.a.createElement("a",{className:"carousel-item",href:e.carouselHref[a],key:t._id},r.a.createElement("img",{src:t.url}))})))))}))):r.a.createElement("div",{className:"container center-align",style:{margin:"10px !important"}},r.a.createElement("h4",null,"No Events For Now!"))}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,w.a.get("api/events/all").then((function(t){var a=t.data,n=Object(i.a)({},e.state,{events:a,filteredEvents:a});if(e._isMounted){e.setState(n);var r=document.querySelectorAll("#carousel");window.M.Carousel.init(r,{})}})).catch((function(e){console.error(e)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}}]),t}(n.Component),j=(a(70),function(e){return r.a.createElement("div",{className:"row red lighten-3 p-2"},r.a.createElement("span",{className:"col",style:{marginTop:"8px"}},r.a.createElement("button",{className:"btn-floating btn-small waves-effect waves-light red",onClick:e.removeErrors},r.a.createElement("i",{className:"material-icons"},"clear"))),r.a.createElement("ul",{className:"col"},e.errors.map((function(e,t){return r.a.createElement("li",{key:t+=1,"data-testid":"errors"}," ",e," ")}))))}),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).submit=function(e){e.preventDefault();var t=new FormData;t.append("title",e.target.title.value),t.append("description",e.target.description.value),t.append("location",e.target.location.value);var n=e.target.startDate.value,r=e.target.startTime.value,l=e.target.endDate.value,s=e.target.endTime.value;a.props.fetching(!0);var i=k()(n+" "+r).format(),o=k()(l+" "+s).format();console.log(i),console.log(o),t.append("startDateTime",i),t.append("endDateTime",o);var m=Object(c.a)(a.state.files);console.log(m);for(var d=0;d<m.length;d++)t.append("pictures",m[d]);w.a.post("api/events/create",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){a.props.fetching(!1),window.M.toast({html:"Event Created Successful",classes:"light-blue darken-4"}),a.props.history.push("/events")})).catch((function(e){a.props.fetching(!1),console.log(e);a.props.addErrors("An error has occurred")}))},a.imageViewer=function(e){for(var t=e.target.files.length,n=document.getElementsByClassName("carousel-img"),r=[],l=0;l<t;l++)n[l].src=URL.createObjectURL(e.target.files[l]),r.push(e.target.files[l]);a.setState({files:r})},a.state={files:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row",id:"Wrapper"},r.a.createElement("form",{className:"col s12 l9 offset-l1",onSubmit:this.submit},!0===this.props.loading?r.a.createElement("div",{className:"progress","data-testid":"progress"},r.a.createElement("div",{className:"indeterminate"})):"",this.props.errors.length>0?r.a.createElement(j,{errors:this.props.errors,removeErrors:this.props.removeErrors}):"",r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12 l6"},r.a.createElement("input",{id:"title",type:"text",className:"validate",required:!0}),r.a.createElement("label",{htmlFor:"title"},"Title")),r.a.createElement("div",{className:"input-field col s12 l6"},r.a.createElement("input",{id:"location",type:"text",className:"validate",required:!0}),r.a.createElement("label",{htmlFor:"location"},"location"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("textarea",{id:"description",className:"materialize-textarea","data-length":"120",required:!0}),r.a.createElement("label",{htmlFor:"description"},"Description"))),r.a.createElement("div",{className:"carousel"},r.a.createElement("a",{className:"carousel-item",href:"#one!"},r.a.createElement("img",{src:"",className:"carousel-img",alt:""})),r.a.createElement("a",{className:"carousel-item",href:"#two!"},r.a.createElement("img",{src:"",className:"carousel-img",alt:""})),r.a.createElement("a",{className:"carousel-item",href:"#three!"},r.a.createElement("img",{src:"",className:"carousel-img",alt:""})),r.a.createElement("a",{className:"carousel-item",href:"#four!"},r.a.createElement("img",{src:"",className:"carousel-img",alt:""})),r.a.createElement("a",{className:"carousel-item",href:"#five!"},r.a.createElement("img",{src:"",className:"carousel-img",alt:""}))),r.a.createElement("div",{className:"file-field input-field"},r.a.createElement("div",{className:"btn red darken-1"},r.a.createElement("span",null,"File"),r.a.createElement("input",{type:"file",multiple:!0,name:"pictures[]",onChange:this.imageViewer,accept:"image/png, image/jpeg",required:!0})),r.a.createElement("div",{className:"file-path-wrapper"},r.a.createElement("input",{className:"file-path validate",type:"text",placeholder:"Upload one or more files"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{id:"start-date",type:"text",className:"datepicker",name:"startDate",required:!0}),r.a.createElement("label",{htmlFor:"start-date"},"Start Date")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{id:"start-time",type:"text",className:"timepicker",name:"startTime",required:!0}),r.a.createElement("label",{htmlFor:"start-time"},"Start Time"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{id:"end-date",type:"text",className:"datepicker",name:"endDate",required:!0}),r.a.createElement("label",{htmlFor:"end-date"},"End Date")),r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{id:"end-time",type:"text",className:"timepicker",name:"endTime",required:!0}),r.a.createElement("label",{htmlFor:"end-time"},"End Time"))),r.a.createElement("div",{className:"row center-align"},r.a.createElement("button",{className:"btn waves-effect waves-light light-blue darken-4",type:"submit",name:"action",disabled:this.props.loading},"Submit",r.a.createElement("i",{className:"material-icons right"},"send"))))))}},{key:"componentDidMount",value:function(){var e=document.getElementById("description"),t=(window.M.CharacterCounter.init(e,{}),document.getElementById("start-date")),a=(window.M.Datepicker.init(t,{}),document.getElementById("start-time")),n=(window.M.Timepicker.init(a,{}),document.getElementById("end-date")),r=(window.M.Datepicker.init(n,{}),document.getElementById("end-time")),l=(window.M.Timepicker.init(r,{}),document.querySelectorAll(".carousel"));window.M.Carousel.init(l,{});void 0===g.a.get("accessToken")&&(this.props.history.push("/login"),window.M.toast({html:"Login Please.",classes:"red darken-1"}))}}]),t}(n.Component),M=a(23),S=a.n(M),D=a(37),T=(a(72),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).submit=function(){var e=Object(D.a)(S.a.mark((function e(t){var n,r,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.target.password.value,r=t.target.email.value,l={email:r,password:n},a.props.fetching(!0),w.a.post("api/users/login",l).then((function(e){a.props.fetching(!1),a.props.authenticate(!0);var t=e.data;a.props.authenticate(!0),g.a.set("accessToken",t.accessToken),a.props.history.push("/"),window.M.toast({html:"Login Successful!",classes:"light-blue darken-4"})})).catch((function(e){a.props.fetching(!1);var t=e.response.data.message;a.props.addErrors(t)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){return r.a.createElement("div",{className:"row",id:"wrapper"},r.a.createElement("div",{className:"col s0 l5 valign-wrapper hide-on-med-and-down",id:"companyWrapper"},"``"),r.a.createElement("div",{className:"col s12 l6 valign-wrapper",id:"loginWrapper"},r.a.createElement("form",{className:"",id:"loginForm",onSubmit:a.submit,method:"Post"},!0===a.props.loading?r.a.createElement("div",{className:"progress","data-testid":"progress"},r.a.createElement("div",{className:"indeterminate"})):"",a.props.errors.length>0?r.a.createElement(j,{errors:a.props.errors,removeErrors:a.props.removeErrors}):"",r.a.createElement("div",{className:"row center-align"},r.a.createElement("span",null,"Login to proceed")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col"},r.a.createElement("i",{className:"material-icons prefix"},"email"),r.a.createElement("input",{id:"email",type:"text",className:"validate",required:!0}),r.a.createElement("label",{htmlFor:"email"},"Email"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col "},r.a.createElement("i",{className:"material-icons prefix"},"https"),r.a.createElement("input",{id:"password",type:"password",className:"validate",required:!0}),r.a.createElement("label",{htmlFor:"password"},"Password"))),r.a.createElement("div",{className:"row center-align"},r.a.createElement("button",{className:"btn waves-effect waves-light light-blue darken-4",type:"submit",name:"action",disabled:a.props.loading},"Submit",r.a.createElement("i",{className:"material-icons right"},"send"))))))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){void 0!==g.a.get("accessToken")&&this.props.history.push("/")}}]),t}(n.Component)),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).fetching=function(e){a.setState(Object(i.a)({},a.state,{loading:e}))},a.authenticate=function(e){a.setState(Object(i.a)({},a.state,{loggedIn:e}))},a.addErrors=function(e){a.setState(Object(i.a)({},a.state,{errors:[].concat(Object(c.a)(a.state.errors),[e])}))},a.removeErrors=function(){a.setState(Object(i.a)({},a.state,{errors:[]}))},a.removeSuccessMessages=function(){a.setState(Object(i.a)({},a.state,{successMessages:[]}))},a.render=function(){return r.a.createElement("div",{className:"App",id:"appWrapper"},r.a.createElement(E.a,null,r.a.createElement(N,Object.assign({},a.state,{authenticate:a.authenticate})),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/",component:function(e){return r.a.createElement(x,Object.assign({},e,a.state,{fetching:a.fetching,addErrors:a.addErrors,removeErrors:a.removeErrors}))}}),r.a.createElement(f.a,{exact:!0,path:"/login",component:function(e){return r.a.createElement(T,Object.assign({},e,a.state,{fetching:a.fetching,authenticate:a.authenticate,addErrors:a.addErrors,removeErrors:a.removeErrors}))}}),r.a.createElement(f.a,{exact:!0,path:"/events",component:function(e){return r.a.createElement(O,e)}}))))},a.state={loggedIn:!1,loading:!1,errors:[],successMessages:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){!1===this.state.loggedIn&&void 0!==g.a.get("accessToken")&&this.authenticate(!0)}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.35d38838.chunk.js.map