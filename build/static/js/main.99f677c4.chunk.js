(this["webpackJsonpevent-management-frontend"]=this["webpackJsonpevent-management-frontend"]||[]).push([[0],{38:function(e,t,a){e.exports=a(73)},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},68:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(34),l=a.n(s),c=(a(43),a(19)),i=a(14),o=a(6),m=a(7),d=a(9),u=a(8),p=a(10),E=(a(44),a(4)),v=(a(45),a(12)),f=a.n(v),g=a(13),h=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).logout=function(){f.a.remove("accessToken"),a.props.authenticate(!1),a.props.history.push("/login"),window.M.toast({html:"Logout Successful!",classes:"red darken-1"})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"navbar-fixed"},n.a.createElement("nav",{className:"white"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"nav-wrapper white"},n.a.createElement("a",{href:"#!",id:"logo",className:"brand-logo",style:{backgroundColor:"#00134e"}},"Fly Events Inc"),n.a.createElement("a",{href:"#","data-target":"mobile-demo",className:"sidenav-trigger"},n.a.createElement("i",{className:"material-icons black-text"},"menu")),n.a.createElement("ul",{className:"right hide-on-med-and-down"},n.a.createElement("li",null,n.a.createElement(E.b,{to:"/events",className:"black-text"},"Events")),n.a.createElement("li",null,n.a.createElement(E.b,{to:"/",className:"black-text"},"Create Events")),!0===this.props.loggedIn?n.a.createElement("li",null,n.a.createElement(E.b,{to:"#",className:"black-text",onClick:this.logout},"Logout")):n.a.createElement("li",null,n.a.createElement(E.b,{to:"login",className:"black-text"},"Login"))),n.a.createElement("ul",{className:"sidenav",id:"mobile-demo"},n.a.createElement("li",null,n.a.createElement(E.b,{to:"/events",className:"black-text"},"Events")),n.a.createElement("li",null,n.a.createElement(E.b,{to:"/",className:"black-text"},"Create Events")),!0===this.props.loggedIn?n.a.createElement("li",null,n.a.createElement(E.b,{to:"#",className:"black-text"},"Logout")):n.a.createElement("li",null,n.a.createElement(E.b,{to:"login",className:"black-text"},"Login")))))))}}]),t}(r.Component),N=Object(g.f)(h),b=a(16),w=a.n(b),k=(a(68),a(17)),y=a.n(k),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e)))._isMounted=!1,a.carouselHref=["#one!","#two!","#three!","#four!"],a.eventOutPut=function(){return a.state.filteredEvents<1?n.a.createElement("div",{className:"container"},"No Events"):n.a.createElement("div",{className:"container"},a.state.filteredEvents.map((function(e){return n.a.createElement("div",{className:"row",key:e._id},n.a.createElement("div",{className:"col",key:"carousel"+e._id},n.a.createElement("div",{className:"carousel carousel-slider",id:"carousel"},e.pictures.map((function(e,t){return n.a.createElement("a",{className:"carousel-item",href:a.carouselHref[t],key:e._id},n.a.createElement("img",{src:"".concat(e.url),alt:""}))})))),n.a.createElement("div",{className:"col",key:"info"+e._id}))})))},a.state={events:[],filteredEvents:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),this.state.events.length>0?n.a.createElement("div",{className:"container"},this.state.events.map((function(t){return n.a.createElement("div",{className:"row",id:"eventWrapper",key:t._id},n.a.createElement("div",{className:"col s12 l6",id:"infoWrapper"},n.a.createElement("div",{className:"row"},n.a.createElement("h3",{className:"center-align"}," ",t.title),n.a.createElement("h6",{className:"center-align"},t.location)),n.a.createElement("div",{className:"row center-align",id:"descriptionWrapper"},n.a.createElement("span",null,t.description)),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col l12 center-align"},n.a.createElement("span",{className:"prefix"},"from"),n.a.createElement("span",{className:"date"},y()(t.startDateTime).format("lll"))),n.a.createElement("div",{className:"col l12 center-align"},n.a.createElement("span",{className:"prefix"},"to"),n.a.createElement("span",{className:"date"},y()(t.startDateTime).format("lll")))),n.a.createElement("div",{className:"row center-align"},n.a.createElement("button",{className:"waves-effect waves-light btn-large green"},"Send Invite ")),n.a.createElement("div",{className:"row center-align"},n.a.createElement("span",{id:"organizer"},"Organised by ","Moblex"))),n.a.createElement("div",{className:"col s12 l6",id:"carouselWrapper"},n.a.createElement("div",{className:"carousel carousel-slider",id:"carousel"},t.pictures.map((function(t,a){return n.a.createElement("a",{className:"carousel-item",href:e.carouselHref[a],key:t._id},n.a.createElement("img",{src:t.url}))})))))}))):n.a.createElement("div",{className:"container center-align",style:{margin:"10px !important"}},n.a.createElement("h4",null,"No Events For Now!"))}},{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,w.a.get("api/events/all").then((function(t){var a=t.data,r=Object(i.a)({},e.state,{events:a,filteredEvents:a});if(e._isMounted){e.setState(r);var n=document.querySelectorAll("#carousel");window.M.Carousel.init(n,{})}})).catch((function(e){console.error(e)}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}}]),t}(r.Component),j=(a(70),function(e){return n.a.createElement("div",{className:"row red lighten-3 p-2"},n.a.createElement("span",{className:"col",style:{marginTop:"8px"}},n.a.createElement("button",{className:"btn-floating btn-small waves-effect waves-light red",onClick:e.removeErrors},n.a.createElement("i",{className:"material-icons"},"clear"))),n.a.createElement("ul",{className:"col"},e.errors.map((function(e,t){return n.a.createElement("li",{key:t+=1,"data-testid":"errors"}," ",e," ")}))))}),x=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).submit=function(e){e.preventDefault();var t=new FormData;t.append("title",e.target.title.value),t.append("description",e.target.description.value),t.append("location",e.target.location.value);var r=e.target.startDate.value,n=e.target.startTime.value,s=e.target.endDate.value,l=e.target.endTime.value;a.props.fetching(!0);var i=y()(r+" "+n).format(),o=y()(s+" "+l).format();console.log(i),console.log(o),t.append("startDateTime",i),t.append("endDateTime",o);var m=Object(c.a)(a.state.files);console.log(m);for(var d=0;d<m.length;d++)t.append("pictures",m[d]);w.a.post("api/events/create",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){a.props.fetching(!1),window.M.toast({html:"Event Created Successful",classes:"light-blue darken-4"}),a.props.history.push("/create_event")})).catch((function(e){a.props.fetching(!1),console.log(e);a.props.addErrors("An error has occurred")}))},a.imageViewer=function(e){for(var t=e.target.files.length,r=document.getElementsByClassName("carousel-img"),n=[],s=0;s<t;s++)r[s].src=URL.createObjectURL(e.target.files[s]),n.push(e.target.files[s]);a.setState({files:n})},a.state={files:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row",id:"Wrapper"},n.a.createElement("form",{className:"col s12 l9 offset-l1",onSubmit:this.submit},!0===this.props.loading?n.a.createElement("div",{className:"progress","data-testid":"progress"},n.a.createElement("div",{className:"indeterminate"})):"",this.props.errors.length>0?n.a.createElement(j,{errors:this.props.errors,removeErrors:this.props.removeErrors}):"",n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12 l6"},n.a.createElement("input",{id:"title",type:"text",className:"validate",required:!0}),n.a.createElement("label",{htmlFor:"title"},"Title")),n.a.createElement("div",{className:"input-field col s12 l6"},n.a.createElement("input",{id:"location",type:"text",className:"validate",required:!0}),n.a.createElement("label",{htmlFor:"location"},"location"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("textarea",{id:"description",className:"materialize-textarea","data-length":"120",required:!0}),n.a.createElement("label",{htmlFor:"description"},"Description"))),n.a.createElement("div",{className:"carousel"},n.a.createElement("a",{className:"carousel-item",href:"#one!"},n.a.createElement("img",{src:"",className:"carousel-img",alt:""})),n.a.createElement("a",{className:"carousel-item",href:"#two!"},n.a.createElement("img",{src:"",className:"carousel-img",alt:""})),n.a.createElement("a",{className:"carousel-item",href:"#three!"},n.a.createElement("img",{src:"",className:"carousel-img",alt:""})),n.a.createElement("a",{className:"carousel-item",href:"#four!"},n.a.createElement("img",{src:"",className:"carousel-img",alt:""})),n.a.createElement("a",{className:"carousel-item",href:"#five!"},n.a.createElement("img",{src:"",className:"carousel-img",alt:""}))),n.a.createElement("div",{className:"file-field input-field"},n.a.createElement("div",{className:"btn red darken-1"},n.a.createElement("span",null,"File"),n.a.createElement("input",{type:"file",multiple:!0,name:"pictures[]",onChange:this.imageViewer,accept:"image/png, image/jpeg",required:!0})),n.a.createElement("div",{className:"file-path-wrapper"},n.a.createElement("input",{className:"file-path validate",type:"text",placeholder:"Upload one or more files"}))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{id:"start-date",type:"text",className:"datepicker",name:"startDate",required:!0}),n.a.createElement("label",{htmlFor:"start-date"},"Start Date")),n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{id:"start-time",type:"text",className:"timepicker",name:"startTime",required:!0}),n.a.createElement("label",{htmlFor:"start-time"},"Start Time"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{id:"end-date",type:"text",className:"datepicker",name:"endDate",required:!0}),n.a.createElement("label",{htmlFor:"end-date"},"End Date")),n.a.createElement("div",{className:"input-field col s6"},n.a.createElement("input",{id:"end-time",type:"text",className:"timepicker",name:"endTime",required:!0}),n.a.createElement("label",{htmlFor:"end-time"},"End Time"))),n.a.createElement("div",{className:"row center-align"},n.a.createElement("button",{className:"btn waves-effect waves-light light-blue darken-4",type:"submit",name:"action",disabled:this.props.loading},"Submit",n.a.createElement("i",{className:"material-icons right"},"send"))))))}},{key:"componentDidMount",value:function(){void 0===f.a.get("accessToken")&&this.props.history.push("/login")}}]),t}(r.Component),S=a(23),D=a.n(S),T=a(37),M=(a(72),function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).submit=function(){var e=Object(T.a)(D.a.mark((function e(t){var r,n,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=t.target.password.value,n=t.target.email.value,s={email:n,password:r},a.props.fetching(!0),w.a.post("api/users/login",s).then((function(e){a.props.fetching(!1),a.props.authenticate(!0);var t=e.data;a.props.authenticate(!0),f.a.set("accessToken",t.accessToken),a.props.history.push("/create_event"),window.M.toast({html:"Login Successful!",classes:"light-blue darken-4"})})).catch((function(e){a.props.fetching(!1);var t=e.response.data.message;a.props.addErrors(t)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.render=function(){return n.a.createElement("div",{className:"row",id:"wrapper"},n.a.createElement("div",{className:"col s0 l5 valign-wrapper hide-on-med-and-down",id:"companyWrapper"},"``"),n.a.createElement("div",{className:"col s12 l6 valign-wrapper",id:"loginWrapper"},n.a.createElement("form",{className:"",id:"loginForm",onSubmit:a.submit,method:"Post"},!0===a.props.loading?n.a.createElement("div",{className:"progress","data-testid":"progress"},n.a.createElement("div",{className:"indeterminate"})):"",a.props.errors.length>0?n.a.createElement(j,{errors:a.props.errors,removeErrors:a.props.removeErrors}):"",n.a.createElement("div",{className:"row center-align"},n.a.createElement("span",null,"Login to proceed")),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col"},n.a.createElement("i",{className:"material-icons prefix"},"email"),n.a.createElement("input",{id:"email",type:"text",className:"validate",required:!0}),n.a.createElement("label",{htmlFor:"email"},"Email"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col "},n.a.createElement("i",{className:"material-icons prefix"},"https"),n.a.createElement("input",{id:"password",type:"password",className:"validate",required:!0}),n.a.createElement("label",{htmlFor:"password"},"Password"))),n.a.createElement("div",{className:"row center-align"},n.a.createElement("button",{className:"btn waves-effect waves-light light-blue darken-4",type:"submit",name:"action",disabled:a.props.loading},"Submit",n.a.createElement("i",{className:"material-icons right"},"send"))))))},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){void 0!==f.a.get("accessToken")&&this.props.history.push("/create_event")}}]),t}(r.Component)),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).fetching=function(e){a.setState(Object(i.a)({},a.state,{loading:e}))},a.authenticate=function(e){a.setState(Object(i.a)({},a.state,{loggedIn:e}))},a.addErrors=function(e){a.setState(Object(i.a)({},a.state,{errors:[].concat(Object(c.a)(a.state.errors),[e])}))},a.removeErrors=function(){a.setState(Object(i.a)({},a.state,{errors:[]}))},a.removeSuccessMessages=function(){a.setState(Object(i.a)({},a.state,{successMessages:[]}))},a.render=function(){return n.a.createElement("div",{className:"App",id:"appWrapper"},n.a.createElement(E.a,null,n.a.createElement(N,Object.assign({},a.state,{authenticate:a.authenticate})),n.a.createElement(g.c,null,n.a.createElement(g.a,{exact:!0,path:"/",component:function(e){return n.a.createElement(x,Object.assign({},e,a.state,{fetching:a.fetching,addErrors:a.addErrors,removeErrors:a.removeErrors}))}}),n.a.createElement(g.a,{exact:!0,path:"/login",component:function(e){return n.a.createElement(M,Object.assign({},e,a.state,{fetching:a.fetching,authenticate:a.authenticate,addErrors:a.addErrors,removeErrors:a.removeErrors}))}}),n.a.createElement(g.a,{exact:!0,path:"/events",component:function(e){return n.a.createElement(O,e)}}))))},a.state={loggedIn:!1,loading:!1,errors:[],successMessages:[]},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){!1===this.state.loggedIn&&void 0!==f.a.get("accessToken")&&this.authenticate(!0)}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(n.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.99f677c4.chunk.js.map